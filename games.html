<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Games – Matt Breen</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Add a favicon link here when ready -->
</head>
<body>
    <!-- Shared site header -->
    <header class="site-header">
        <div class="container header-container">
            <h1 class="site-title"><a href="index.html">Matt Breen</a></h1>
            <nav class="nav">
                <a href="about.html">About</a>
                <a href="games.html">Games</a>
                <a href="contact.html">Contact</a>
            </nav>
        </div>
    </header>

    <main>
        <section class="section">
            <div class="container">
                <h2>Games</h2>
                <p>Try a demo of a bad game that will never be finished!</p>

                <article class="game-section">
                    <div class="game-section-header">
                        <h3 class="game-section-title">Logger (v0.3)</h3>
                        <p class="game-section-description">Take control of cute little beavers to harvest resources, build your colony, and reshape the land. RTS/base-builder.</p>
                    </div>
                    <div class="game-embed">
                        <div class="game-launcher"
                             data-game-src="webgl/w0.3/index.html"
                             data-game-title="Unity WebGL build: w0.3"
                             data-game-width="960"
                             data-game-height="600">
                            <button type="button" class="game-play-button">
                                <span class="game-play-icon" aria-hidden="true">&#9658;</span>
                                Play the demo
                            </button>
                            <p class="game-launcher-hint"><a href="webgl/w0.3/index.html" target="_blank" rel="noopener">Open in a new tab instead</a></p>
                        </div>
                        <noscript>
                            <p class="game-noscript">JavaScript is required to load the WebGL build on this page. <a href="webgl/w0.3/index.html" target="_blank" rel="noopener">Open the demo in a new tab.</a></p>
                        </noscript>
                    </div>
                </article>

                <article class="game-section">
                    <div class="game-section-header">
                        <h3 class="game-section-title">Adventure Boy</h3>
                        <p class="game-section-description">2D platformer RPG with a pathetic attempt at a story and controls that make you long for a real game.</p>
                    </div>
                    <div class="game-embed">
                        <div class="game-launcher game-launcher--disabled">
                            <button type="button" class="game-play-button" disabled aria-disabled="true">
                                <span class="game-play-icon" aria-hidden="true">&#8987;</span>
                                Coming soon
                            </button>
                            <p class="game-launcher-hint">Stay tuned.</p>
                        </div>
                    </div>
                </article>
            </div>
        </section>
    </main>

    <footer class="site-footer">
        <div class="container">
            <p>&copy; <span id="games-year"></span> Matt Breen. All rights reserved.</p>
        </div>
    </footer>

    <script>
    const gamesYear = document.getElementById('games-year');
    if (gamesYear) {
        gamesYear.textContent = new Date().getFullYear();
    }

    const gameLaunchers = document.querySelectorAll('.game-launcher');
    gameLaunchers.forEach((launcher) => {
        const playButton = launcher.querySelector('.game-play-button');
        const gameSrc = launcher.dataset.gameSrc;

        if (playButton && gameSrc) {
            playButton.addEventListener('click', () => {
                const iframe = document.createElement('iframe');
                iframe.src = gameSrc;
                iframe.title = launcher.dataset.gameTitle || 'Unity WebGL build';
                iframe.width = launcher.dataset.gameWidth || '960';
                iframe.height = launcher.dataset.gameHeight || '600';
                iframe.loading = 'lazy';
                iframe.setAttribute('frameborder', '0');
                iframe.setAttribute('allowfullscreen', '');

                launcher.replaceWith(iframe);
            }, { once: true });
        }
    });
    </script>
</body>
</html>
